<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>URL Hub</title>
  <link rel="icon" href="backlink.png">
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>

<body>
  <div class="app-layout">
    <!-- Main Content -->
    <main class="main-content">
      <header class="top-bar">
        <div class="logo-container">
          <img src="urlhub.png" alt="URL Hub Logo" class="app-logo">
          <h1 class="page-title">URL Hub</h1>
          <nav id="breadcrumb-nav" class="breadcrumb-nav">
            <!-- Breadcrumb injected here -->
          </nav>
        </div>
        <div class="top-actions">
          <div class="search-container" id="search-container">
            <button id="search-toggle" class="icon-btn" title="Search">üîç</button>
            <input type="search" id="search" placeholder="Search tools..." />
          </div>
          <!-- Page Tools merged here -->
          <div class="fab-container" id="fab-container">
            <div class="fab-menu">
              <button class="fab-item" data-label="Add Tool" onclick="UI.openModal('modal-add')">+</button>
              <button class="fab-item" data-label="Export Data" onclick="Tools.exportData()">‚Üì</button>
              <label class="fab-item" data-label="Import Data">
                ‚Üë
                <input type="file" accept="application/json" onchange="Tools.importData(this)" />
              </label>
              <button class="fab-item" data-label="Reset Dashboard" onclick="Tools.resetData()">‚Ü∫</button>
            </div>
            <button class="fab" onclick="UI.toggleFab()" title="Menu">‚ò∞</button>
          </div>
          <button id="about-toggle" onclick="UI.openAboutModal()" title="About">
            <span class="material-icons">info</span>
          </button>
          <button id="theme-toggle" onclick="PageTools.toggleDarkMode()" title="Toggle Dark Mode">üåô</button>
        </div>
      </header>

      <div id="content" class="tools-container">
        <!-- Content injected here -->
      </div>
    </main>
  </div>

  <!-- Modals -->
  <div id="modal-overlay" class="modal-overlay" style="display:none;"></div>

  <!-- URL Selection Modal -->
  <div id="modal-url-selection" class="modal" style="display:none;">
    <h2 id="modal-title-urls">Select URL</h2>
    <div id="url-list" class="url-list">
      <!-- URLs injected here -->
    </div>
    <div class="form-actions">
      <button type="button" onclick="UI.closeModal()">Cancel</button>
    </div>
  </div>

  <!-- Add/Edit Modal -->
  <div id="modal-add" class="modal" style="display:none;">
    <h2 id="modal-title">Add Tool</h2>
    <form id="tool-form" onsubmit="UI.handleFormSubmit(event)">
      <input type="hidden" id="edit-id">
      <div class="form-group">
        <label>Title</label>
        <input type="text" id="tool-title" required placeholder="My Tool">
      </div>
      <div class="form-group">
        <label>Primary URL</label>
        <input type="url" id="tool-url" required placeholder="https://example.com">
      </div>
      <div class="form-group">
        <label>Alternative URLs (Optional) <button type="button" class="btn-small" onclick="UI.addUrlField()">+ Add
            URL</button></label>
        <div id="alternative-urls-container">
          <!-- Dynamic URL fields will be added here -->
        </div>
      </div>
      <div class="form-group">
        <label>Icon (URL or Emoji) - Optional</label>
        <input type="text" id="tool-icon" placeholder="e.g. üöÄ or https://...">
      </div>
      <div class="form-group">
        <label>Category</label>
        <input type="text" id="tool-category" list="category-list" required placeholder="Utilities">
        <datalist id="category-list"></datalist>
      </div>

      <div class="form-actions">
        <button type="button" onclick="UI.closeModal()">Cancel</button>
        <button type="submit" class="btn-primary">Save</button>
      </div>
    </form>
  </div>

  <!-- About Modal -->
  <div id="modal-about" class="modal" style="display:none;">
    <div class="modal-header">
      <h2><span class="material-icons">info</span> Description </h2>
      <button class="modal-close" onclick="UI.closeAboutModal()" title="Close">
        <span class="material-icons">close</span>
      </button>
    </div>
    <div class="about-content" id="about-content">
      <!-- README content will be injected here -->
    </div>
  </div>

  <!-- Iframe viewer -->
  <div id="site-viewer" style="display:none;">
    <button id="close-site" onclick="PageTools.closeSite()">Close</button>
    <iframe id="content-frame"></iframe>
  </div>

  <!-- Inline JSON data (Fallback) -->
  <script src="links.json" type="application/json" id="data"></script>
  <script src="hub.js"></script>
</body>

</html>